<!DOCTYPE html>
<html>
<head>
  <title>Ponniyin Selvan jQuery Example</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

  <h1>Ponniyin Selvan</h1>

  <div id="characters">
    <h2>Characters</h2>
    <ul>
      <li class="character">Vandiyathevan</li>
      <li class="character">Azhwarkadiyan</li>
      <li class="character">Nandhini</li>
    </ul>
  </div>

  <div id="books">
    <h2>Books</h2>
    <ul>
      <li class="book">Book 1: Ponniyin Selvan</li>
      <li class="book">Book 2: Sivagamiyin Sabatham</li>
      <li class="book">Book 3: Parthiban Kanavu</li>
    </ul>
  </div>

  <script>
    // Document Ready Function
    $(document).ready(function() {
      // Manipulating CSS Classes
      $('.character').addClass('highlight');

      // Event Handling
      $('.book').click(function() {
        $(this).toggleClass('selected');
      });

      // AJAX Request
      $.ajax({
        url: 'characters.json',
        dataType: 'json',
        success: function(data) {
          // Iterating through JSON Data
          $.each(data, function(index, character) {
            var li = $('<li>').text(character.name);
            $('#characters ul').append(li);
          });
        }
      });

      // DOM Traversal
      var firstCharacter = $('.character').first();
      var nextCharacter = firstCharacter.next();
      var prevCharacter = firstCharacter.prev();
      var parentElement = firstCharacter.parent();
      console.log("First Character:", firstCharacter.text());
      console.log("Next Character:", nextCharacter.text());
      console.log("Previous Character:", prevCharacter.text());
      console.log("Parent Element:", parentElement.attr('id'));

      // Traversal Examples
      var siblings = $('.character').siblings();
      console.log("Siblings:", siblings.text());

      var children = $('#characters').children();
      console.log("Children:", children.text());

      var descendant = $('#characters').find('.character');
      console.log("Descendant:", descendant.text());

      var closestElement = $('.character').closest('div');
      console.log("Closest Element:", closestElement.attr('id'));

      var allPrevious = $('.character').prevAll();
      console.log("All Previous:", allPrevious.text());

      var allNext = $('.character').nextAll();
      console.log("All Next:", allNext.text());

      var firstParent = $('.character').parent();
      console.log("First Parent:", firstParent.attr('id'));

      var allParents = $('.character').parents();
      console.log("All Parents:", allParents.map(function() { return $(this).attr('id'); }).get());

      var firstAncestor = $('.character').parentsUntil('body').last();
      console.log("First Ancestor:", firstAncestor.attr('id'));

      var allAncestors = $('.character').parentsUntil('body');
      console.log("All Ancestors:", allAncestors.map(function() { return $(this).attr('id'); }).get());

      var nextSiblings = $('.character').nextAll('.character');
      console.log("Next Siblings:", nextSiblings.text());

      var prevSiblings = $('.character').prevAll('.character');
      console.log("Previous Siblings:", prevSiblings.text());

      var nthChild = $('.character:nth-child(2)');
      console.log("2nd Child:", nthChild.text());

      var firstTwoChildren = $('.character:lt(2)');
      console.log("First Two Children:", firstTwoChildren.text());

      var lastTwoChildren = $('.character:gt(0):lt(2)');
      console.log("Last Two Children:", lastTwoChildren.text());

      var hasCharacter = $('.character').has('.book');
      console.log("Elements with Character and Book:", hasCharacter.text());

      var characterFilter = $('.character').filter(function() {
        return $(this).text().length > 10;
      });
      console.log("Filtered Characters:", characterFilter.text());

      var characterNotFilter = $('.character').not('.highlight');
      console.log("Characters Not Highlighted:", characterNotFilter.text());

      var characterSlice = $('.character').slice(1, 3);
      console.log("Sliced Characters:", characterSlice.text());

      var characterFirst = $('.character').first();
      console.log("First Character:", characterFirst.text());

      var characterLast = $('.character').last();
      console.log("Last Character:", characterLast.text());

      // Manipulating HTML Content
      var booksHTML = $('#books ul').html();
      console.log("Books HTML:", booksHTML);

      // Examples
      // Replace text of an element
      $('.character').text('New Character');

      // Append content to an element
      $('#characters ul').append('<li class="character">New Character 1</li>');
      $('#characters ul').append('<li class="character">New Character 2</li>');

      // Prepend content to an element
      $('#characters ul').prepend('<li class="character">New Character 3</li>');
      $('#characters ul').prepend('<li class="character">New Character 4</li>');

      // Insert content before an element
      $('.character').before('<li class="character">Before Character</li>');

      // Insert content after an element
      $('.character').after('<li class="character">After Character</li>');

      // Wrap an element around another element
      $('.character').wrap('<div class="wrapper"></div>');

      // Remove an element
      $('.character').remove();

      // Empty the content of an element
      $('#characters ul').empty();

      // Replace an element with another element
      $('.character').replaceWith('<li class="character">Replaced Character</li>');

      // Clone an element
      var clonedElement = $('.book').clone();
      $('#characters ul').append(clonedElement);

      // Get and set HTML content
      var charactersHTML = $('#characters ul').html();
      console.log("Characters HTML:", charactersHTML);

      $('#characters ul').html('<li class="character">Updated Character</li>');

      // Get and set text content
      var booksText = $('.book').text();
      console.log("Books Text:", booksText);

      $('.book').text('Updated Book');

      // Get and set attribute values
      var idValue = $('#characters').attr('id');
      console.log("ID Value:", idValue);

      $('.character').attr('data-role', 'main');
      var dataRole = $('.character').attr('data-role');
      console.log("Data Role:", dataRole);

      // CSS Manipulation
      $('.character').css('font-weight', 'bold');
      $('.book').css({
        'color': 'blue',
        'font-size': '18px'
      });

      $('.character').css('font-weight', 'bold');
      $('.book').css({
        'color': 'blue',
        'font-size': '18px'
      });

      // Examples
      // Get and set CSS property values
      var fontWeight = $('.character').css('font-weight');
      console.log("Font Weight:", fontWeight);

      $('.character').css('color', 'green');
      $('.book').css({
        'font-size': '20px',
        'text-decoration': 'underline'
      });

      // Add and remove CSS classes
      $('.character').addClass('highlight');
      $('.book').removeClass('highlight');

      // Toggle CSS classes
      $('.character').toggleClass('highlight');
      $('.book').toggleClass('highlight');

      // Check if an element has a CSS class
      var hasHighlight = $('.character').hasClass('highlight');
      console.log("Has Highlight Class:", hasHighlight);

      // Get and set width and height
      var characterWidth = $('.character').width();
      var characterHeight = $('.character').height();
      console.log("Character Width:", characterWidth);
      console.log("Character Height:", characterHeight);

      $('.character').width('200px');
      $('.character').height('50px');

      // Get and set inner and outer width and height
      var characterInnerWidth = $('.character').innerWidth();
      var characterInnerHeight = $('.character').innerHeight();
      console.log("Character Inner Width:", characterInnerWidth);
      console.log("Character Inner Height:", characterInnerHeight);

      var characterOuterWidth = $('.character').outerWidth();
      var characterOuterHeight = $('.character').outerHeight();
      console.log("Character Outer Width:", characterOuterWidth);
      console.log("Character Outer Height:", characterOuterHeight);

      // Animation Effects
      $('.character').fadeOut(2000).fadeIn(2000);
      $('.book').slideUp(2000).slideDown(2000);

      // Event Delegation
      $('#characters ul').on('click', '.character', function() {
        $(this).toggleClass('selected');
      });

      // Form Handling
      $('#characterForm').submit(function(event) {
        event.preventDefault();
        var characterName = $('#characterName').val();
        var li = $('<li>').text(characterName);
        $('#characters ul').append(li);
        $('#characterName').val('');
      });

      // AJAX POST Request
      $('#saveCharacter').click(function() {
        var characterData = {
          name: $('#characterName').val(),
          role: $('#characterRole').val(),
          description: $('#characterDescription').val()
        };

        $.ajax({
          url: 'saveCharacter.php',
          method: 'POST',
          data: characterData,
          success: function(response) {
            console.log("Character saved:", response);
          }
        });
      });

      // Data Filtering
      var longNames = $('.character').filter(function() {
        return $(this).text().length > 10;
      });
      console.log("Long Names:", longNames.text());

      // Data Mapping
      var characterNames = $('.character').map(function() {
        return $(this).text();
      });
      console.log("Character Names:", characterNames.get());

      // Event Triggering
      $('#characters ul li').first().trigger('click');

      // Utility Methods
      var characterCount = $('.character').length;
      console.log("Character Count:", characterCount);

      var hasClass = $('.character').hasClass('highlight');
      console.log("Has Highlight Class:", hasClass);

      var firstCharacterText = $('.character').first().text();
      console.log("First Character Text:", firstCharacterText);

      // Version-Specific Snippets

      // jQuery 3.6.0 and above: .remove()
      $('#books').remove();
    });
  </script>

</body>
</html>
